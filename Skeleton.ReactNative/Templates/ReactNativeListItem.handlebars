// generated by a tool
import React from 'react';
import {Pressable, Text, View} from 'react-native';
import {useNavigation} from '@react-navigation/native';
import DateTimeDisplay from '../../../controls/DateTimeDisplay';
import { {{cs_name Name}} } from '../{{cs_name Name}}';

interface {{cs_name Name}}ListItemProps {
    item: {{cs_name Name}};
}

export const {{cs_name Name}}ListItem = (props: {{cs_name Name}}ListItemProps) : JSX.Element => {
    const navigation = useNavigation();

    const navToDetail = () => {
        console.log(`selected {{cs_name UnderlyingType.Name}} {{#each KeyFields}}{{cml_case Name}} : ${props.item.{{cml_case Name}} } {{/each}}`);
        navigation.navigate('{{cs_name UnderlyingType.Name}}Detail', { {{#each KeyFields}}{{cml_case Name}} : props.item.{{cml_case Name}}{{#unless @last}}, {{/unless}} {{/each}} });
    };

    return (<View>
        <Pressable style={({pressed}) => [
            {
                padding: 10, 
                marginBottom: 1,
                backgroundColor: pressed ? 'rgb(210, 230, 255)' : 'white',
            },]} 
            onPress={navToDetail}>
            {{#each ListFields}}
                {{#if IsDateTime}}
                <DateTimeDisplay date={ props.item.{{cml_case Name}} } showTime={true} />
                {{else}}
                <Text>{ props.item.{{cml_case Name}} }</Text>
                {{/if}}
            {{/each}}
        </Pressable>
    </View>);
}